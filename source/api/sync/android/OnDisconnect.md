title:  OnDisconnect
---
离线事件是云端与客户端断开连接时自动触发的事件。
断开连接包括客户端主动断开连接，或者意外的网络中断。触发事件即执行特定的数据操作，它支持离线写入，更新和删除数据方法。

## 方法

### setValue()

**定义**

```java
void setValue()
```

**说明**

当客户端断开连接（例如：关闭浏览器、跳转到一个新的页面、本地的网络问题等）后写入数据，此操作会先清空指定节点再写入新的数据。


</br>

---

### updateChildren(children)

**定义**

```java
void updateChildren(Map map)
```

**说明**

当客户端断开连接（例如：关闭浏览器、跳转到一个新的页面、本地的网络问题等）后更新指定子节点。





</br>

---


### removeValue()

**定义**

```java
void removeValue()
```

**说明**

当客户端断开连接（例如：关闭浏览器、跳转到一个新的页面、本地的网络问题等）后移除当前节点的数据。
`onDisconnect` 实例设置的离线操作只会触发一次。
如需每次离线时都执行 `removeValue()` 方法，则需要 监听连接状态，在连接建立成功后都通过 `removeValue()` 设置想要执行的删除操作。


</br>

---


### cancel()

**定义**

```java
void cancel()
```

**说明**

取消所有未生效的离线事件。

</br>

---
